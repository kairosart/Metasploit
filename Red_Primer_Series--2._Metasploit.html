<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>2. Metasploit</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>2. Metasploit</h1><br/>Metasploit, an open-source pentesting framework, is a powerful tool utilized by security engineers around the world. Maintained by Rapid 7, Metasploit is a collection of not only thoroughly tested exploits but also auxiliary and post-exploitation tools. We will explore the basics of using this massive framework and a few of the modules it includes. <br /><br /><a href="https://www.offensive-security.com/metasploit-unleashed/msfconsole-commands/">https://www.offensive-security.com/metasploit-unleashed</a><br /><br /><h2>COMMANDS</h2><a name="h2-1"></a><br /><br /><strong>1. We need to initialize the database!</strong><br />Do it before runninig msfconsole.<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0057ae;font-weight:400">$msfdb</span>&nbsp;init</div></div><br /><br /><strong>2. View some of the advanced options we can trigger for starting the console.</strong><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0057ae;font-weight:400">$msfconsole</span>&nbsp;-h</div></div><br /><br /><strong>3. Start the Metasploit console on the command line without showing the banner or any startup information as well.</strong><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0057ae;font-weight:400">$msfconsole</span>&nbsp;-q</div></div><br /><br /><strong>4. Open Metasploit.</strong><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0057ae;font-weight:400">$msfconsole</span></div></div><br /><br /><strong>5. Check the connection to the database.</strong><br /><br /><div class="codebox"><div class="codebox">msf5&nbsp;&gt;&nbsp;db_status</div></div><br /><strong>6. Which type of database does Metasploit 5 use? </strong><br /><br />Postgresql<br /><br /><strong>7. What is the base command we use for searching?</strong><br />search<br /><br /><strong>8. Once we&#39;ve found the module we want to leverage, what command we use to select it as the active module?</strong><br />use<br /><br /><strong>9. How about if we want to view information about either a specific module or just the active one we have selected?</strong><br />info<br /><br /><strong>10. Metasploit has a built-in netcat-like function where we can make a quick connection with a host simply to verify that we can &#39;talk&#39; to it. What command is this?</strong><br />connect<br /><br /><strong>11. What command do we use to change the value of a variable?</strong><br />set<br /><br /><strong>12. What command changes the value of a variable globally? </strong><br />setg<br /><br /><strong>13. How to view the value of single variables?</strong><br />get<br /><br /><strong>14. How about changing the value of a variable to null/no value?</strong><br />unset<br /><br /><strong>15. What command can we use to set our console output to save to a file?</strong><br />spool<br /><br /><strong>16. Leaving a Metasploit console running isn&#39;t always convenient and it can be helpful to have all of our previously set values load when starting up Metasploit. What command can we use to store the settings/active datastores from Metasploit to a settings file? This will save within your msf4 (or msf5) directory and can be undone easily by simply removing the created settings file. </strong><br />save<br /><br /><br /><h2>MODULES</h2><a name="h2-2"></a><br /><br />This is the Metasploit Framework Structure.  Let&#39;s take a quick look through the various modules, their purposes, and some of the commands associated with modules.<br /><br /><a href=""><img src="images/206-1.png" alt="images/206-1.png" /></a><br /><br /><br /><strong>1. Which module holds all of the exploit code we will use?</strong><br />exploit<br /><br /><strong>2. Which module contains the various bits of shellcode we send to have executed following exploitation?<br /></strong>payload<br /><br /><strong>3. Which module is most commonly used in scanning and verification machines are exploitable? <br /></strong>auxiliary<br /><br /><strong>4. One of the most common activities after exploitation is looting and pivoting. Which module provides these capabilities?</strong><br />post<br /><br /><strong>5. Commonly utilized in payload obfuscation, which module allows us to modify the &#39;appearance&#39; of our exploit such that we may avoid signature detection?</strong><br />encoder<br /><br /><strong>6. Which module is used with buffer overflow and ROP attacks?</strong><br />nop<br /><br /><br /><br /><p align="center"><img src="images/home.svg" height="22" width="22">  <a href="index.html">Index</a></p></div></body></html>